#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

npm run test:unit

for folder in src/components/atoms src/components/molecules src/components/organisms; do
  for file in $(find $folder -type f -name '*.vue'); do
    componentName=$(basename $(dirname $file))
    if [ ! -f $(dirname $file)/${componentName}.stories.js ]; then
      echo "No story file found for $componentName in $(dirname $file)"
      exit 1
    fi
  done
done